{
  "hash": "ed5217e6165dff9eb840ca699c3c09a5",
  "result": {
    "markdown": "---\ntitle: \"Long COVID - an update\"\nsubtitle: \"Hospitalisation rate, comorbidities and long COVID symptoms - PDF table scraping & data analysis with visualisations\"\nauthor: \"Jennifer HY Lin\"\ndate: 2022-09-15\ncategories: [Data analytics projects, R, Python]\ndraft: true\n---\n\n\n#### **Background**\nThis was another update on the current long COVID climate around the world that I thought to follow up from my earlier work (details in the [SQL](https://jhylin.github.io/Data-analytics-and-research-blog/posts/2.%20Long%20COVID%20data%20in%20SQL/LongCOVIDSQL.html) and [Tableau](https://jhylin.github.io/Data-analytics-and-research-blog/posts/3.%20Long%20COVID%20dashboard/TableauDashboard.html) projects). This time the dataset was obtained from another journal paper, which had data collected till July 2021 (the previous paper was only until March 2021). I've used Python to extract a table from the PDF of the paper and also Excel to assist with data cleaning. This was followed by using R to analyse and visualise all the data.\n\n###### **Source of dataset**\nThank you to the authors of this paper: Healey Q, Sheikh A, Daines L, Vasileiou E. Symptoms and signs of long COVID: A rapid review and meta-analysis. J Glob Health 2022;12:05014. *Creative Commons Attribution 4.0 International Public License*\n\n\n::: {.cell}\n\n:::\n\n\nBefore we begin, let's load all the required libraries. If you can't find any of the listed libraries by any means, consider trying to install them first via install.packages(), with the names of the desired libraries typed within the bracket, then load as shown.\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nlibrary(wordcloud)\nlibrary(RColorBrewer)\nlibrary(ggplot2)\nlibrary(knitr)\n```\n:::\n\n\n#### **Data scraping from PDF**\nThe dataset was scraped from a PDF obtained via PubMed (journal paper source as shown above) by using tabula-py (for details please see this post). Unfortunately I had trouble installing a similar R package remotely after being archived (tabulizer with known issues in its GitHub repository) so I trialled tabula-py instead. tabula-py was a Python wrapper for tabula-java and it worked for scraping all the data from the target table, but the downside was that the scraped data did not inherit the original tabular format on PDF, with columns and rows all jumbled. One possible reason could be that the table I was intending to scrape had merged rows, which were known to cause scraping issues. I've also noticed other more successful examples were from tables that had well-defined columns and rows i.e. no merged rows or columns. The end result in these cases often ended up looking more like the original source tables.\n\nSo in short, the final scraped table was cleaned in Excel and saved as .csv file, and then imported as shown below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read_csv(\"Full_table.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nNew names:\nRows: 75 Columns: 9\n── Column specification\n──────────────────────────────────────────────────────── Delimiter: \",\" chr\n(5): Author (country), Hospital (%) {ICU (%)}, Comorbidities, Body syste... dbl\n(2): Age (years), Follow-up time (days) lgl (2): ...8, ...9\nℹ Use `spec()` to retrieve the full column specification for this data. ℹ\nSpecify the column types or set `show_col_types = FALSE` to quiet this message.\n• `` -> `...8`\n• `` -> `...9`\n```\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n#### **Data inspection and wrangling**\nHere's a quick overview on the hospitalisation rates across all the studies from this paper.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_hosp <- df %>% \n  select(`Author (country)`, `Hospital (%) {ICU (%)}`)\ndf_hosp\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 75 × 2\n   `Author (country)` `Hospital (%) {ICU (%)}`\n   <chr>              <chr>                   \n 1 Bellan (Italy)     100 {12}                \n 2 Bellan (Italy)     <NA>                    \n 3 Bellan (Italy)     <NA>                    \n 4 Bellan (Italy)     <NA>                    \n 5 Bellan (Italy)     <NA>                    \n 6 Bliddal (Denmark)  0                       \n 7 Bliddal (Denmark)  <NA>                    \n 8 Bliddal (Denmark)  <NA>                    \n 9 Bliddal (Denmark)  <NA>                    \n10 Bliddal (Denmark)  <NA>                    \n# … with 65 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\n##### **Separating columns and change column type**\nThe table column of Hospital (%) {ICU (%)} was separated into two separate columns to allow clearer differentiation between hospital and ICU rates within each study. The data type for Hospital (%) column was also changed from character to numeric so we can plot a bar graph later on (otherwise the x-axis may not be properly shown).\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_hosp_icu <- df_hosp %>% \n  separate(`Hospital (%) {ICU (%)}`, c(\"Hospital (%)\", \"ICU (%)\"))%>% \n  mutate(across(`Hospital (%)`, as.numeric))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Expected 2 pieces. Additional pieces discarded in 5 rows [1, 21, 23,\n29, 45].\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Expected 2 pieces. Missing pieces filled with `NA` in 12 rows [6, 13,\n14, 25, 33, 34, 39, 55, 56, 62, 69, 75].\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in mask$eval_all_mutate(quo): NAs introduced by coercion\n```\n:::\n\n```{.r .cell-code}\ndf_hosp_icu\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 75 × 3\n   `Author (country)` `Hospital (%)` `ICU (%)`\n   <chr>                       <dbl> <chr>    \n 1 Bellan (Italy)                100 12       \n 2 Bellan (Italy)                 NA <NA>     \n 3 Bellan (Italy)                 NA <NA>     \n 4 Bellan (Italy)                 NA <NA>     \n 5 Bellan (Italy)                 NA <NA>     \n 6 Bliddal (Denmark)               0 <NA>     \n 7 Bliddal (Denmark)              NA <NA>     \n 8 Bliddal (Denmark)              NA <NA>     \n 9 Bliddal (Denmark)              NA <NA>     \n10 Bliddal (Denmark)              NA <NA>     \n# … with 65 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\n##### **Bar graph for hospitalisation rate**\nThen a line of code to filter out the results of \"NA\" under the column of Hospital (%) was added. Most of the cells with \"NA\" were there to fill the multiple empty row entries for other variables and not for the Hospital (%) column, therefore these \"NA\"s were removed in this instance. The horizontal bar graph below shows the COVID-19 hospitalisation rate for studies in different countries, presenting a very diverse results of 0% to 100% hospitalisations across all studies.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_hosp_icu %>% \n  filter(!is.na(`Hospital (%)`)) %>% # Same effect will still be achieved without this line of code with a warning message of \"Removed 58 rows containing missing values (position_stack)\" shown\n  ggplot(aes(x = `Author (country)`, y = `Hospital (%)`)) + \n  geom_bar(stat = \"identity\") +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](LongCOVIDUpdate_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nNote: two of the studies were removed from the above, these studies were Chiesa-Estomba (Italy) and Mahmud (Bangladesh), which had \"Not stated\" recorded under Hospital (%) {ICU (%)} column. When the Hospital (%) column was converted from character to numeric, these two rows were converted to \"NA\" automatically. In total, there were 19 cohort studies as mentioned by the paper.\n\n##### **Separating rows**\nThe following shows separating the listed co-morbidities for each study into separate rows, since separating into columns would in fact make the table looking even more complex by adding way too much columns, adding difficulties in data reading.\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_new <- df %>% \n  separate_rows(Comorbidities, sep = \", \")\ndf_new\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 178 × 9\n   Author (country…¹ Hospi…² Age  …³ Comor…⁴ Follo…⁵ Body …⁶ Results ...8  ...9 \n   <chr>             <chr>     <dbl> <chr>     <dbl> <chr>   <chr>   <lgl> <lgl>\n 1 Bellan (Italy)    100 {1…      61 \"41% h…     107 Genera… 5.9% m… NA    NA   \n 2 Bellan (Italy)    100 {1…      61 \"15% d…     107 Genera… 5.9% m… NA    NA   \n 3 Bellan (Italy)    100 {1…      61 \"11% o…     107 Genera… 5.9% m… NA    NA   \n 4 Bellan (Italy)    100 {1…      61 \"11% e…     107 Genera… 5.9% m… NA    NA   \n 5 Bellan (Italy)    100 {1…      61 \"10% m…     107 Genera… 5.9% m… NA    NA   \n 6 Bellan (Italy)    100 {1…      61 \"9% IH…     107 Genera… 5.9% m… NA    NA   \n 7 Bellan (Italy)    100 {1…      61 \" 8% d…     107 Genera… 5.9% m… NA    NA   \n 8 Bellan (Italy)    100 {1…      61 \"7% AF\"     107 Genera… 5.9% m… NA    NA   \n 9 Bellan (Italy)    100 {1…      61 \"6% CO…     107 Genera… 5.9% m… NA    NA   \n10 Bellan (Italy)    100 {1…      61 \" 6% C…     107 Genera… 5.9% m… NA    NA   \n# … with 168 more rows, and abbreviated variable names ¹​`Author (country)`,\n#   ²​`Hospital (%) {ICU (%)}`, ³​`Age  (years)`, ⁴​Comorbidities,\n#   ⁵​`Follow-up time (days)`, ⁶​`Body system`\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\n##### **Types of comorbidities present in long COVID - a frequency count**\nI have noticed how the comorbidities for each studies were listed with different percentages and thought if we could just gather a very initial idea about what sort of comorbidities were present, then it would give a quick overall picture. So I started by removing these digits and percentage symbols. Obviously since I'm newish to R (two months into using it), I soon ran into a problem, I kept on getting stuck with not having the count() function to actually count unique elements under the column of co-morbidities. \n\nIf you look at the magnified circle, as one of the examples, in the column on the right in the image below, you'll notice the subtle difference in spacing, so yes the culprit was the **space**^[I swear it's taken me a good half an hour to figure this out... eventually I thought to look at the column itself in order to see if I've missed anything... I even went on a frantic search in Stack Overflow and googled about how to count distinct observations in columns in R] and once it was removed, count() worked nicely as how it should be. One small downside was that it would also remove the space between the co-morbidity terms e.g. \"liver disease\" became \"liverdisease\", but since it achieved the aim intended to do a good count on all the co-morbidities, I left it as it was.\n\n![](Zoom-in shot.jpg)\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_new %>% \n  mutate(Comorbidities = str_remove_all(Comorbidities, \"[:digit:]|[%]|[ ]\")) %>% # Remove % symbol, numbers and don't forget to remove spaces as well in the column! \n  filter(!is.na(Comorbidities)) %>%  # Add this line to filter out all the \"NA\"s\n  count(Comorbidities, sort = TRUE) # Count the comorbidities in descending order\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 37 × 2\n   Comorbidities     n\n   <chr>         <int>\n 1 diabetes         14\n 2 hypertension     13\n 3 IHD              10\n 4 asthma            9\n 5 COPD              9\n 6 obesity           9\n 7 CKD               6\n 8 malignancy        5\n 9 dyslipidaemia     4\n10 liverdisease      4\n# … with 27 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\nNow we can observe the top 3 frequency of all co-morbidities listed were diabetes, hypertension and IHD^[ischaemic heart disease]. These were followed by, unsurprisingly, common respiratory illnesses such as asthma, COPD^[chronic obstructive pulmonary disease], then obesity, and also CKD^[chronic kidney disease], malignancy, dyslipidaemia and so on. These would be considered as high risk factors for ending up with long COVID symptoms if someone had caught the COVID-19 infection in the first place. \n\n::: {.cell}\n\n```{.r .cell-code}\ndf_new_a <- df %>% \n  separate_rows(Results, sep = \", \") %>% \n  select(`Author (country)`, `Body system`, Results)\nkable(df_new_a)\n```\n\n::: {.cell-output-display}\n|Author (country)               |Body system      |Results                                                                           |\n|:------------------------------|:----------------|:---------------------------------------------------------------------------------|\n|Bellan (Italy)                 |Generalised/MSK  |5.9% myalgia                                                                      |\n|Bellan (Italy)                 |Generalised/MSK  |5.9% arthralgia                                                                   |\n|Bellan (Italy)                 |Respiratory      |5.5% dyspnoea                                                                     |\n|Bellan (Italy)                 |Respiratory      |2.5% cough                                                                        |\n|Bellan (Italy)                 |Respiratory      |0.4% chest pain                                                                   |\n|Bellan (Italy)                 |Respiratory      |51.6% reduced DLCO                                                                |\n|Bellan (Italy)                 |Respiratory      |normal spirometry                                                                 |\n|Bellan (Italy)                 |Neuropsychiatric |43% PTSD symptoms                                                                 |\n|Bellan (Italy)                 |ENT              |5% gustatory dysfunction                                                          |\n|Bellan (Italy)                 |ENT              |4.6% olfactory dysfunction                                                        |\n|Bellan (Italy)                 |Gastrointestinal |1.3% diarrhoea                                                                    |\n|Bliddal (Denmark)              |Generalised/MSK  |Fatigue                                                                           |\n|Bliddal (Denmark)              |Generalised/MSK  |myalgia                                                                           |\n|Bliddal (Denmark)              |Generalised/MSK  |arthralgia                                                                        |\n|Bliddal (Denmark)              |Generalised/MSK  |chills                                                                            |\n|Bliddal (Denmark)              |Generalised/MSK  |fever                                                                             |\n|Bliddal (Denmark)              |Respiratory      |Dyspnoea                                                                          |\n|Bliddal (Denmark)              |Respiratory      |cough                                                                             |\n|Bliddal (Denmark)              |Respiratory      |chest pain                                                                        |\n|Bliddal (Denmark)              |Respiratory      |sputum production                                                                 |\n|Bliddal (Denmark)              |Neuropsychiatric |Memory issues                                                                     |\n|Bliddal (Denmark)              |Neuropsychiatric |concentration issues                                                              |\n|Bliddal (Denmark)              |Neuropsychiatric |headache                                                                          |\n|Bliddal (Denmark)              |ENT              |Olfactory dysfunction                                                             |\n|Bliddal (Denmark)              |ENT              |gustatory dysfunction                                                             |\n|Bliddal (Denmark)              |ENT              |sore throat                                                                       |\n|Bliddal (Denmark)              |ENT              |rhinorrhoea                                                                       |\n|Bliddal (Denmark)              |ENT              |sneezing                                                                          |\n|Bliddal (Denmark)              |Gastrointestinal |Diarrhoea                                                                         |\n|Bliddal (Denmark)              |Gastrointestinal |anorexia                                                                          |\n|Bliddal (Denmark)              |Gastrointestinal |abdominal pain                                                                    |\n|Bliddal (Denmark)              |Gastrointestinal |nausea                                                                            |\n|Bliddal (Denmark)              |Others           |Red runny eyes                                                                    |\n|Chiesa-Estomba (Italy)         |ENT              |51% olfactory dysfunction                                                         |\n|Cousyn (France)                |ENT              |16.8% olfactory dysfunction                                                       |\n|Cousyn (France)                |ENT              |9.6% gustatory dysfunction                                                        |\n|Daher (Germany)                |Generalised/MSK  |45% fatigue                                                                       |\n|Daher (Germany)                |Generalised/MSK  |15% myalgia                                                                       |\n|Daher (Germany)                |Generalised/MSK  |3% fever                                                                          |\n|Daher (Germany)                |Generalised/MSK  |slight pain/discomfort                                                            |\n|Daher (Germany)                |Respiratory      |33% dyspnoea                                                                      |\n|Daher (Germany)                |Respiratory      |33% cough. Normal spirometry                                                      |\n|Daher (Germany)                |Respiratory      |normal ABG                                                                        |\n|Daher (Germany)                |Respiratory      |reduced DLCO                                                                      |\n|Daher (Germany)                |Respiratory      |reduced distance on 6MWT                                                          |\n|Daher (Germany)                |Neuropsychiatric |18% cognitive issues                                                              |\n|Daher (Germany)                |Neuropsychiatric |15% headache                                                                      |\n|Daher (Germany)                |Neuropsychiatric |mild depression                                                                   |\n|Daher (Germany)                |Neuropsychiatric |subthreshold anxiety                                                              |\n|Daher (Germany)                |ENT              |12% olfactory dysfunction                                                         |\n|Daher (Germany)                |ENT              |12% rhinorrhoea                                                                   |\n|Daher (Germany)                |ENT              |9% gustatory dysfunction                                                          |\n|Daher (Germany)                |ENT              |9% sore throat                                                                    |\n|Daher (Germany)                |Gastrointestinal |9% diarrhoea                                                                      |\n|Daher (Germany)                |Gastrointestinal |6% nausea                                                                         |\n|Daher (Germany)                |Gastrointestinal |3% abdominal pain                                                                 |\n|Daher (Germany)                |Gastrointestinal |normal LFTs                                                                       |\n|Daher (Germany)                |Cardiovascular   |18% angina                                                                        |\n|Daher (Germany)                |Cardiovascular   |normal left ventricular function                                                  |\n|Daher (Germany)                |Cardiovascular   |normal right ventricular function                                                 |\n|Daher (Germany)                |Cardiovascular   |normal cardiac biomarkers                                                         |\n|Daher (Germany)                |Other biomarkers |Normal FBC                                                                        |\n|Daher (Germany)                |Other biomarkers |normal coagulation screen                                                         |\n|Daher (Germany)                |Other biomarkers |raised ferritin                                                                   |\n|Daher (Germany)                |Other biomarkers |potentially raised D-dimer                                                        |\n|Daher (Germany)                |Other biomarkers |normal U&Es                                                                       |\n|Daher (Germany)                |Other biomarkers |normal CRP                                                                        |\n|Daher (Germany)                |Other biomarkers |normal procalcitonin                                                              |\n|Daher (Germany)                |Other biomarkers |normal TFTs                                                                       |\n|Daher (Germany)                |Other biomarkers |normal IL-6                                                                       |\n|Fernandez-de-Las-Penas (Spain) |Generalised/MSK  |61.2% fatigue                                                                     |\n|Fernandez-de-Las-Penas (Spain) |Respiratory      |23.3% dyspnoea                                                                    |\n|Fernandez-de-Las-Penas (Spain) |Respiratory      |6.5% chest pain                                                                   |\n|Fernandez-de-Las-Penas (Spain) |Respiratory      |2.5% cough                                                                        |\n|Froidure (Belgium)             |Generalised/MSK  |25% fatigue                                                                       |\n|Froidure (Belgium)             |Respiratory      |Abnormal chest CT: 67% ground glass opacities                                     |\n|Froidure (Belgium)             |Respiratory      |44% reticulations                                                                 |\n|Froidure (Belgium)             |Respiratory      |20% fibrotic lesions/traction bronchiectasis                                      |\n|Froidure (Belgium)             |Respiratory      |7% consolidations. 46% reduced DLCO                                               |\n|Froidure (Belgium)             |Respiratory      |35% dyspnoea                                                                      |\n|Froidure (Belgium)             |Respiratory      |10% dry cough                                                                     |\n|Froidure (Belgium)             |Respiratory      |4% chest tightness                                                                |\n|Froidure (Belgium)             |Respiratory      |normal spirometry                                                                 |\n|Gerhards (Germany)             |Generalised/MSK  |17% fatigue                                                                       |\n|Gerhards (Germany)             |Neuropsychiatric |Depression                                                                        |\n|Gerhards (Germany)             |Neuropsychiatric |concentration issues                                                              |\n|Gerhards (Germany)             |ENT              |27% olfactory/gustatory dysfunction                                               |\n|Gerhards (Germany)             |Others           |Alopecia                                                                          |\n|Ghosn (France)                 |Generalised/MSK  |Fatigue                                                                           |\n|Ghosn (France)                 |Generalised/MSK  |arthralgia                                                                        |\n|Ghosn (France)                 |Generalised/MSK  |myalgia                                                                           |\n|Ghosn (France)                 |Respiratory      |Dyspnoea                                                                          |\n|Ghosn (France)                 |Respiratory      |cough                                                                             |\n|Ghosn (France)                 |Neuropsychiatric |Headache                                                                          |\n|Ghosn (France)                 |ENT              |Rhinorrhoea                                                                       |\n|Ghosn (France)                 |ENT              |olfactory dysfunction                                                             |\n|Ghosn (France)                 |ENT              |gustatory dysfunction                                                             |\n|Ghosn (France)                 |ENT              |sore throat                                                                       |\n|Han (China)                    |Respiratory      |62% abnormal chest CT: 35% fibrotic-like changes                                  |\n|Han (China)                    |Respiratory      |27% ground glass opacities/interstitial thickening                                |\n|Han (China)                    |Respiratory      |nodules/masses                                                                    |\n|Han (China)                    |Respiratory      |interlobar pleural traction                                                       |\n|Han (China)                    |Respiratory      |pulmonary atelectasis and bronchiectasis. 26% reduced DLCO                        |\n|Han (China)                    |Respiratory      |14% mild dyspnoea                                                                 |\n|Han (China)                    |Respiratory      |10% sputum production                                                             |\n|Han (China)                    |Respiratory      |6.1% dry cough                                                                    |\n|Holmes (Australia)             |Generalised/MSK  |50% fatigue                                                                       |\n|Holmes (Australia)             |Generalised/MSK  |35.7% arthralgia                                                                  |\n|Holmes (Australia)             |Generalised/MSK  |21.4% myalgia                                                                     |\n|Holmes (Australia)             |Respiratory      |28.6% cough                                                                       |\n|Holmes (Australia)             |Respiratory      |25% dyspnoea                                                                      |\n|Holmes (Australia)             |Respiratory      |3.6% chest pain                                                                   |\n|Holmes (Australia)             |Neuropsychiatric |10.7% headache                                                                    |\n|Holmes (Australia)             |ENT              |28.6% olfactory dysfunction                                                       |\n|Holmes (Australia)             |ENT              |14.3% rhinorrhoea                                                                 |\n|Holmes (Australia)             |Gastrointestinal |No abdominal pain                                                                 |\n|Jacobs (USA)                   |Generalised/MSK  |44.8% fatigue                                                                     |\n|Jacobs (USA)                   |Generalised/MSK  |21.3% myalgia                                                                     |\n|Jacobs (USA)                   |Generalised/MSK  |15.8% arthralgia                                                                  |\n|Jacobs (USA)                   |Generalised/MSK  |1.1% fever                                                                        |\n|Jacobs (USA)                   |Generalised/MSK  |1.1% ulcer                                                                        |\n|Jacobs (USA)                   |Respiratory      |31.7% dyspnoea                                                                    |\n|Jacobs (USA)                   |Respiratory      |25.1% cough                                                                       |\n|Jacobs (USA)                   |Respiratory      |14.8% sputum production                                                           |\n|Jacobs (USA)                   |Neuropsychiatric |12.6% headache                                                                    |\n|Jacobs (USA)                   |Neuropsychiatric |8.7% cognitive issues                                                             |\n|Jacobs (USA)                   |ENT              |9.8% gustatory dysfunction                                                        |\n|Jacobs (USA)                   |ENT              |9.3% olfactory dysfunction                                                        |\n|Jacobs (USA)                   |Gastrointestinal |3.8% diarrhoea                                                                    |\n|Jacobs (USA)                   |Others           |8.2% eye irritation                                                               |\n|Jacobs (USA)                   |Others           |1.1% ulcer                                                                        |\n|Leth (Denmark)                 |Generalised/MSK  |63% fatigue                                                                       |\n|Leth (Denmark)                 |Generalised/MSK  |35% myalgia                                                                       |\n|Leth (Denmark)                 |Respiratory      |53% dyspnoea                                                                      |\n|Leth (Denmark)                 |Respiratory      |24% cough                                                                         |\n|Leth (Denmark)                 |Respiratory      |20% chest pain                                                                    |\n|Leth (Denmark)                 |Respiratory      |12% sputum production                                                             |\n|Leth (Denmark)                 |Neuropsychiatric |45% concentration issues                                                          |\n|Leth (Denmark)                 |Neuropsychiatric |27% headache                                                                      |\n|Leth (Denmark)                 |Neuropsychiatric |27% paraesthesia                                                                  |\n|Leth (Denmark)                 |ENT              |31% gustatory dysfunction                                                         |\n|Leth (Denmark)                 |ENT              |27% olfactory dysfunction                                                         |\n|Leth (Denmark)                 |ENT              |10% sore throat                                                                   |\n|Leth (Denmark)                 |Gastrointestinal |10% abdominal pain                                                                |\n|Leth (Denmark)                 |Gastrointestinal |8% diarrhoea                                                                      |\n|Leth (Denmark)                 |Gastrointestinal |8% nausea                                                                         |\n|Leth (Denmark)                 |Gastrointestinal |4% anorexia                                                                       |\n|Mahmud (Bangladesh)            |Generalised/MSK  |33% fatigue                                                                       |\n|Mahmud (Bangladesh)            |Generalised/MSK  |1.4% arthralgia                                                                   |\n|Mahmud (Bangladesh)            |Generalised/MSK  |0.6% myalgia                                                                      |\n|Mahmud (Bangladesh)            |Respiratory      |8.5% cough                                                                        |\n|Mahmud (Bangladesh)            |Respiratory      |7% dyspnoea                                                                       |\n|Mahmud (Bangladesh)            |Respiratory      |0.8% chest pain                                                                   |\n|Mahmud (Bangladesh)            |Neuropsychiatric |3.9% circadian rhythm disorders                                                   |\n|Mahmud (Bangladesh)            |Neuropsychiatric |3.4% headache                                                                     |\n|Mahmud (Bangladesh)            |Neuropsychiatric |2.3% sleep disturbance                                                            |\n|Mahmud (Bangladesh)            |Neuropsychiatric |1.4% adjustment disorder                                                          |\n|Mahmud (Bangladesh)            |ENT              |2.3% vertigo                                                                      |\n|Mahmud (Bangladesh)            |ENT              |2% olfactory dysfunction                                                          |\n|Mahmud (Bangladesh)            |Cardiovascular   |1.4% palpitation                                                                  |\n|Otte (Germany)                 |ENT              |42.3% subjective olfactory dysfunction                                            |\n|Otte (Germany)                 |ENT              |26.9% objective olfactory  dysfunction (discrimination and identification issues) |\n|Peghin (Italy)                 |Generalised/MSK  |13.1% fatigue                                                                     |\n|Peghin (Italy)                 |Generalised/MSK  |8.2% rheumatological issues                                                       |\n|Peghin (Italy)                 |Respiratory      |6% dyspnoea                                                                       |\n|Peghin (Italy)                 |Respiratory      |2% cough                                                                          |\n|Peghin (Italy)                 |Respiratory      |0.8% chest pain                                                                   |\n|Peghin (Italy)                 |Neuropsychiatric |9.6% neurological disorders                                                       |\n|Peghin (Italy)                 |Neuropsychiatric |4.9% psychiatric disorders                                                        |\n|Peghin (Italy)                 |Neuropsychiatric |2.7% headache                                                                     |\n|Peghin (Italy)                 |ENT              |10.4% olfactory/gustatory dysfunction,                                            |\n|Peghin (Italy)                 |Gastrointestinal |1.5% gastrointestinal disorders                                                   |\n|Peghin (Italy)                 |Others           |3.7% alopecia                                                                     |\n|Peghin (Italy)                 |Others           |3.4% cutaneous manifestations                                                     |\n|Peghin (Italy)                 |Others           |0.3% ocular symptoms                                                              |\n|Sonnweber (Austria)            |Generalised/MSK  |24% night sweats                                                                  |\n|Sonnweber (Austria)            |Generalised/MSK  |0% fever                                                                          |\n|Sonnweber (Austria)            |Respiratory      |63% abnormal chest CT: ground-glass opacities                                     |\n|Sonnweber (Austria)            |Respiratory      |reticular lesions                                                                 |\n|Sonnweber (Austria)            |Respiratory      |consolidations                                                                    |\n|Sonnweber (Austria)            |Respiratory      |bronchial dilation. 36% dyspnoea                                                  |\n|Sonnweber (Austria)            |Respiratory      |abnormal spirometry: 22% reduced FVC                                              |\n|Sonnweber (Austria)            |Respiratory      |22% reduced FEV1                                                                  |\n|Sonnweber (Austria)            |Respiratory      |normal FEV1/FVC. 21% reduced DLCO                                                 |\n|Sonnweber (Austria)            |Respiratory      |17% cough                                                                         |\n|Sonnweber (Austria)            |Neuropsychiatric |22% sleep disorders                                                               |\n|Sonnweber (Austria)            |ENT              |19% olfactory dysfunction                                                         |\n|Sonnweber (Austria)            |Gastrointestinal |9% diarrhoea/vomiting                                                             |\n|Sonnweber (Austria)            |Cardiovascular   |97% normal LVEF                                                                   |\n|Sonnweber (Austria)            |Cardiovascular   |55% diastolic dysfunction on echo                                                 |\n|Sonnweber (Austria)            |Cardiovascular   |23% raised NT-proBNP                                                              |\n|Sonnweber (Austria)            |Cardiovascular   |10% pulmonary hypertension                                                        |\n|Sonnweber (Austria)            |Cardiovascular   |1% pericardial effusion                                                           |\n|Sonnweber (Austria)            |Other biomarkers |Raised D-dimer                                                                    |\n|Sonnweber (Austria)            |Other biomarkers |potentially raised ferritin                                                       |\n|Sonnweber (Austria)            |Other biomarkers |normal CRP                                                                        |\n|Sonnweber (Austria)            |Other biomarkers |normal procalcitonin                                                              |\n|Sonnweber (Austria)            |Other biomarkers |normal IL-6                                                                       |\n|Sudre  (UK, USA, Sweden)       |Generalised/MSK  |Fatigue                                                                           |\n|Sudre  (UK, USA, Sweden)       |Generalised/MSK  |myalgia                                                                           |\n|Sudre  (UK, USA, Sweden)       |Generalised/MSK  |fever                                                                             |\n|Sudre  (UK, USA, Sweden)       |Respiratory      |Dyspnoea                                                                          |\n|Sudre  (UK, USA, Sweden)       |Respiratory      |cough                                                                             |\n|Sudre  (UK, USA, Sweden)       |Respiratory      |chest pain                                                                        |\n|Sudre  (UK, USA, Sweden)       |Neuropsychiatric |Headache                                                                          |\n|Sudre  (UK, USA, Sweden)       |Neuropsychiatric |paraesthesia                                                                      |\n|Sudre  (UK, USA, Sweden)       |Neuropsychiatric |numbness                                                                          |\n|Sudre  (UK, USA, Sweden)       |Neuropsychiatric |concentration/ memory issues                                                      |\n|Sudre  (UK, USA, Sweden)       |ENT              |Olfactory dysfunction                                                             |\n|Sudre  (UK, USA, Sweden)       |ENT              |sore throat                                                                       |\n|Sudre  (UK, USA, Sweden)       |ENT              |hoarse voice                                                                      |\n|Sudre  (UK, USA, Sweden)       |ENT              |tinnitus                                                                          |\n|Sudre  (UK, USA, Sweden)       |ENT              |earache                                                                           |\n|Sudre  (UK, USA, Sweden)       |Gastrointestinal |Diarrhoea                                                                         |\n|Sudre  (UK, USA, Sweden)       |Gastrointestinal |abdominal pain                                                                    |\n|Sudre  (UK, USA, Sweden)       |Cardiovascular   |Palpitations/tachycardia                                                          |\n|Vaira (Italy)                  |ENT              |21% olfactory dysfunction                                                         |\n|Vaira (Italy)                  |ENT              |7.9% gustatory dysfunction                                                        |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Chloropleth graph - MAP\n```\n:::\n\n#### **Text mining to reveal the results**\nWhen skimming through the Results column, it appears some of the terms recorded are repetitive, I thought it may be quite interesting (in a less formal way) to do a wordcloud to see if it highlights any particular terms that would jump out from this meta-analysis about long COVID, which in a way may paint us a picture about how long COVID syndrome looked like for some of the sufferers.\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pick out the results column\ntext <- df$Results\n# Remove numbers from the texts so that the digits won't appear in the wordcloud\ntext1 <- str_replace_all(text, \"[:digit:]\", \"\")\ntext1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \".% myalgia, .% arthralgia\"                                                                                                                                                                                                                                \n [2] \".% dyspnoea, .% cough, .% chest pain, .% reduced DLCO, normal spirometry\"                                                                                                                                                                                 \n [3] \"% PTSD symptoms\"                                                                                                                                                                                                                                          \n [4] \"% gustatory dysfunction, .% olfactory dysfunction\"                                                                                                                                                                                                        \n [5] \".% diarrhoea\"                                                                                                                                                                                                                                             \n [6] \"Fatigue, myalgia, arthralgia, chills, fever\"                                                                                                                                                                                                              \n [7] \"Dyspnoea, cough, chest pain, sputum production\"                                                                                                                                                                                                           \n [8] \"Memory issues, concentration issues, headache\"                                                                                                                                                                                                            \n [9] \"Olfactory dysfunction, gustatory dysfunction, sore throat, rhinorrhoea, sneezing\"                                                                                                                                                                         \n[10] \"Diarrhoea, anorexia, abdominal pain, nausea\"                                                                                                                                                                                                              \n[11] \"Red runny eyes\"                                                                                                                                                                                                                                           \n[12] \"% olfactory dysfunction\"                                                                                                                                                                                                                                  \n[13] \".% olfactory dysfunction, .% gustatory dysfunction\"                                                                                                                                                                                                       \n[14] \"% fatigue, % myalgia, % fever, slight pain/discomfort\"                                                                                                                                                                                                    \n[15] \"% dyspnoea, % cough. Normal spirometry, normal ABG, reduced DLCO, reduced distance on MWT\"                                                                                                                                                                \n[16] \"% cognitive issues, % headache, mild depression, subthreshold anxiety\"                                                                                                                                                                                    \n[17] \"% olfactory dysfunction, % rhinorrhoea, % gustatory dysfunction, % sore throat\"                                                                                                                                                                           \n[18] \"% diarrhoea, % nausea, % abdominal pain, normal LFTs\"                                                                                                                                                                                                     \n[19] \"% angina, normal left ventricular function, normal right ventricular function, normal cardiac biomarkers\"                                                                                                                                                 \n[20] \"Normal FBC, normal coagulation screen, raised ferritin, potentially raised D-dimer, normal U&Es, normal CRP, normal procalcitonin, normal TFTs, normal IL-\"                                                                                               \n[21] \".% fatigue\"                                                                                                                                                                                                                                               \n[22] \".% dyspnoea, .% chest pain, .% cough\"                                                                                                                                                                                                                     \n[23] \"% fatigue\"                                                                                                                                                                                                                                                \n[24] \"Abnormal chest CT: % ground glass opacities, % reticulations, % fibrotic lesions/traction bronchiectasis, % consolidations. % reduced DLCO, % dyspnoea, % dry cough, % chest tightness, normal spirometry\"                                                \n[25] \"% fatigue\"                                                                                                                                                                                                                                                \n[26] \"Depression, concentration issues\"                                                                                                                                                                                                                         \n[27] \"% olfactory/gustatory dysfunction\"                                                                                                                                                                                                                        \n[28] \"Alopecia\"                                                                                                                                                                                                                                                 \n[29] \"Fatigue, arthralgia, myalgia\"                                                                                                                                                                                                                             \n[30] \"Dyspnoea, cough\"                                                                                                                                                                                                                                          \n[31] \"Headache\"                                                                                                                                                                                                                                                 \n[32] \"Rhinorrhoea, olfactory dysfunction, gustatory dysfunction, sore throat\"                                                                                                                                                                                   \n[33] \"% abnormal chest CT: % fibrotic-like changes, % ground glass opacities/interstitial thickening, nodules/masses, interlobar pleural traction, pulmonary atelectasis and bronchiectasis. % reduced DLCO, % mild dyspnoea, % sputum production, .% dry cough\"\n[34] \"% fatigue, .% arthralgia, .% myalgia\"                                                                                                                                                                                                                     \n[35] \".% cough, % dyspnoea, .% chest pain\"                                                                                                                                                                                                                      \n[36] \".% headache\"                                                                                                                                                                                                                                              \n[37] \".% olfactory dysfunction, .% rhinorrhoea\"                                                                                                                                                                                                                 \n[38] \"No abdominal pain\"                                                                                                                                                                                                                                        \n[39] \".% fatigue, .% myalgia, .% arthralgia, .% fever, .% ulcer\"                                                                                                                                                                                                \n[40] \".% dyspnoea, .% cough, .% sputum production\"                                                                                                                                                                                                              \n[41] \".% headache, .% cognitive issues\"                                                                                                                                                                                                                         \n[42] \".% gustatory dysfunction, .% olfactory dysfunction\"                                                                                                                                                                                                       \n[43] \".% diarrhoea\"                                                                                                                                                                                                                                             \n[44] \".% eye irritation, .% ulcer\"                                                                                                                                                                                                                              \n[45] \"% fatigue, % myalgia\"                                                                                                                                                                                                                                     \n[46] \"% dyspnoea, % cough, % chest pain, % sputum production\"                                                                                                                                                                                                   \n[47] \"% concentration issues, % headache, % paraesthesia\"                                                                                                                                                                                                       \n[48] \"% gustatory dysfunction, % olfactory dysfunction, % sore throat\"                                                                                                                                                                                          \n[49] \"% abdominal pain, % diarrhoea, % nausea, % anorexia\"                                                                                                                                                                                                      \n[50] \"% fatigue, .% arthralgia, .% myalgia\"                                                                                                                                                                                                                     \n[51] \".% cough, % dyspnoea, .% chest pain\"                                                                                                                                                                                                                      \n[52] \".% circadian rhythm disorders, .% headache, .% sleep disturbance, .% adjustment disorder\"                                                                                                                                                                 \n[53] \".% vertigo, % olfactory dysfunction\"                                                                                                                                                                                                                      \n[54] \".% palpitation\"                                                                                                                                                                                                                                           \n[55] \".% subjective olfactory dysfunction, .% objective olfactory  dysfunction (discrimination and identification issues)\"                                                                                                                                      \n[56] \".% fatigue, .% rheumatological issues\"                                                                                                                                                                                                                    \n[57] \"% dyspnoea, % cough, .% chest pain\"                                                                                                                                                                                                                       \n[58] \".% neurological disorders, .% psychiatric disorders, .% headache\"                                                                                                                                                                                         \n[59] \".% olfactory/gustatory dysfunction,\"                                                                                                                                                                                                                      \n[60] \".% gastrointestinal disorders\"                                                                                                                                                                                                                            \n[61] \".% alopecia, .% cutaneous manifestations, .% ocular symptoms\"                                                                                                                                                                                             \n[62] \"% night sweats, % fever\"                                                                                                                                                                                                                                  \n[63] \"% abnormal chest CT: ground-glass opacities, reticular lesions, consolidations, bronchial dilation. % dyspnoea, abnormal spirometry: % reduced FVC, % reduced FEV, normal FEV/FVC. % reduced DLCO, % cough\"                                               \n[64] \"% sleep disorders\"                                                                                                                                                                                                                                        \n[65] \"% olfactory dysfunction\"                                                                                                                                                                                                                                  \n[66] \"% diarrhoea/vomiting\"                                                                                                                                                                                                                                     \n[67] \"% normal LVEF, % diastolic dysfunction on echo, % raised NT-proBNP, % pulmonary hypertension, % pericardial effusion\"                                                                                                                                     \n[68] \"Raised D-dimer, potentially raised ferritin, normal CRP, normal procalcitonin, normal IL-\"                                                                                                                                                                \n[69] \"Fatigue, myalgia, fever\"                                                                                                                                                                                                                                  \n[70] \"Dyspnoea, cough, chest pain\"                                                                                                                                                                                                                              \n[71] \"Headache, paraesthesia, numbness, concentration/ memory issues\"                                                                                                                                                                                           \n[72] \"Olfactory dysfunction, sore throat, hoarse voice, tinnitus, earache\"                                                                                                                                                                                      \n[73] \"Diarrhoea, abdominal pain\"                                                                                                                                                                                                                                \n[74] \"Palpitations/tachycardia\"                                                                                                                                                                                                                                 \n[75] \"% olfactory dysfunction, .% gustatory dysfunction\"                                                                                                                                                                                                        \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\ntext_df <- tibble(line = 1:75, text = text1)\ntext_df\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 75 × 2\n    line text                                                                   \n   <int> <chr>                                                                  \n 1     1 .% myalgia, .% arthralgia                                              \n 2     2 .% dyspnoea, .% cough, .% chest pain, .% reduced DLCO, normal spiromet…\n 3     3 % PTSD symptoms                                                        \n 4     4 % gustatory dysfunction, .% olfactory dysfunction                      \n 5     5 .% diarrhoea                                                           \n 6     6 Fatigue, myalgia, arthralgia, chills, fever                            \n 7     7 Dyspnoea, cough, chest pain, sputum production                         \n 8     8 Memory issues, concentration issues, headache                          \n 9     9 Olfactory dysfunction, gustatory dysfunction, sore throat, rhinorrhoea…\n10    10 Diarrhoea, anorexia, abdominal pain, nausea                            \n# … with 65 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\nImport tidytext library and tokenise the texts in the selected column.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidytext)\ntext_df1 <- text_df %>% \n  unnest_tokens(word, text)\ntext_df1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 399 × 2\n    line word      \n   <int> <chr>     \n 1     1 myalgia   \n 2     1 arthralgia\n 3     2 dyspnoea  \n 4     2 cough     \n 5     2 chest     \n 6     2 pain      \n 7     2 reduced   \n 8     2 dlco      \n 9     2 normal    \n10     2 spirometry\n# … with 389 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\nRemove stop_words, count the frequency of appearance of each word, then create a wordcloud.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntext_df1 %>% \n  anti_join(stop_words) %>% \n  count(word) %>% \n  with(wordcloud(word, n, colors = brewer.pal(8,\"Dark2\")))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining, by = \"word\"\n```\n:::\n\n::: {.cell-output-display}\n![](LongCOVIDUpdate_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#display.brewer.all to display all colour palettes\n```\n:::\n\n\nHowever, this may not be the best way to visualise the data here, given a few known drawbacks of wordcloud such as the length of a word may influence how big it may appear in the wordcloud, so frequency is not the only factor affecting how words appear in wordcloud. Nevertheless, it is one of the ways to get a rough idea about the most common terms cropping up in the collected results for long COVID in different countries.\n\n",
    "supporting": [
      "LongCOVIDUpdate_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}